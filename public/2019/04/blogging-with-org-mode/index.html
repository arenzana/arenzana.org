<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Blogging with org-mode - Isma Arenzana</title><noscript>
        <img src="https://analytics.arenzana.org/ingress/eb75ab2c-8aa1-438b-8ba5-1c8a69acf071/pixel.gif">
    </noscript>
    <script defer src="https://analytics.arenzana.org/ingress/eb75ab2c-8aa1-438b-8ba5-1c8a69acf071/script.js"></script>
	<link rel="icon" type="image/png" href="/Arenzanafav.png" />

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:url" content="https://arenzana.org/2019/04/blogging-with-org-mode/">
  <meta property="og:site_name" content="Isma Arenzana">
  <meta property="og:title" content="Blogging with org-mode">
  <meta property="og:description" content="Wait, what? My coworker makes infinite fun of me because I do everything in Emacs. He’s a proficient Vim user and uses it as a text editor like a master.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2019-04-24T20:13:00+00:00">
    <meta property="article:modified_time" content="2019-04-24T20:13:00+00:00">
    <meta property="article:tag" content="Blogging">
    <meta property="article:tag" content="Emacs">
    <meta property="article:tag" content="Tech">
<meta property="og:type" content="link"/>
    <meta property="og:author_name" content="Ismael Arenzana"/>
    <meta property="og:author_url" content="https://arenzana.org"/>
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Blogging with org-mode">
  <meta name="twitter:description" content="Wait, what? My coworker makes infinite fun of me because I do everything in Emacs. He’s a proficient Vim user and uses it as a text editor like a master.">


	<link rel="stylesheet" type="text/css" media="screen" href="https://arenzana.org/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://arenzana.org/css/main.css" /><link rel="stylesheet" type="text/css" href="https://arenzana.org/css/dark.css" media="(prefers-color-scheme: dark)" />

	<script src="https://arenzana.org/js/feather.min.js"></script>
	<script src="https://arenzana.org/js/main.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<base href="https://arenzana.org/">
    <link href="https://social.mrcol.es/@isma" rel="me">
	<h1 class="site-title"><a href="https://arenzana.org/">Isma Arenzana</a></h1>
	<div class="site-description"><h2></h2><nav class="nav social">
			<ul class="flat"><a href="https://github.com/arenzana" title="Github"><i data-feather="github"></i></a><a href="https://x.com/iarenzana" title="X"><i data-feather="twitter"></i></a><a href="/index.xml" title="RSS"><i data-feather="rss"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">home</a>
			</li>
			
			<li>
				<a href="/posts">blog</a>
			</li>
			
			<li>
				<a href="https://iarenzana.gitlab.io/cv/exec_en.html">CV</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">Blogging with org-mode</h1>
			<div class="meta">Posted at &mdash; Apr 24, 2019</div>
		</div>
       

		<div class="markdown">
			<h2 id="wait-what">Wait, what?</h2>
<p>My coworker makes infinite fun of me because I do everything in Emacs. He’s a proficient Vim user and uses it as a text editor like a master. Emacs, however, is almost a full operating system for me. Even though I haven’t figured out how to do video editing in Emacs (?), blogging is a task that’s possible to do with it.</p>
<p>I run a self-hosted <!-- raw HTML omitted -->WordPress<!-- raw HTML omitted --> instance on <!-- raw HTML omitted -->Scaleway<!-- raw HTML omitted -->. This is an affordable set up that gives me extreme flexibility.</p>
<h2 id="the-setup">The setup</h2>
<p>As I described on my <!-- raw HTML omitted -->previous post<!-- raw HTML omitted -->, I use <!-- raw HTML omitted -->org2blog<!-- raw HTML omitted --> as the blogging package to post to WordPress. I have the following block on my <code>.emacs</code> file.</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span>(<span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;org2blog-autoloads</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;netrc</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#b58900">require</span> <span style="color:#2aa198">&#39;auth-source</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#b58900">let</span> (<span style="color:#268bd2">credentials</span>)
</span></span><span style="display:flex;"><span>	(<span style="color:#268bd2">add-to-list</span> <span style="color:#2aa198">&#39;auth-sources</span> <span style="color:#2aa198">&#34;~/.authinfo&#34;</span>)
</span></span><span style="display:flex;"><span>	(<span style="color:#b58900">setq</span> <span style="color:#268bd2">credentials</span> (<span style="color:#268bd2">auth-source-user-and-password</span> <span style="color:#2aa198">&#34;arenzana.org&#34;</span>))
</span></span><span style="display:flex;"><span>	(<span style="color:#b58900">setq</span> <span style="color:#268bd2">org2blog/wp-blog-alist</span>
</span></span><span style="display:flex;"><span>	      <span style="color:#719e07">`</span>((<span style="color:#2aa198">&#34;arenzanaorg&#34;</span>
</span></span><span style="display:flex;"><span>		 <span style="color:#b58900">:url</span> <span style="color:#2aa198">&#34;https://arenzana.org/xmlrpc.php&#34;</span>
</span></span><span style="display:flex;"><span>		 <span style="color:#b58900">:username</span> <span style="color:#719e07">,</span>(<span style="color:#268bd2">car</span> <span style="color:#268bd2">credentials</span>)
</span></span><span style="display:flex;"><span>		 <span style="color:#b58900">:password</span> <span style="color:#719e07">,</span>(<span style="color:#268bd2">cadr</span> <span style="color:#268bd2">credentials</span>)
</span></span><span style="display:flex;"><span>		 <span style="color:#b58900">:default-title</span> <span style="color:#2aa198">&#34;Hello World&#34;</span>
</span></span><span style="display:flex;"><span>		 <span style="color:#b58900">:default-categories</span> (<span style="color:#2aa198">&#34;emacs&#34;</span>)
</span></span><span style="display:flex;"><span>		 <span style="color:#b58900">:tags-as-categories</span> <span style="color:#cb4b16">nil</span>))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#b58900">setq</span> <span style="color:#268bd2">org2blog/wp-use-sourcecode-shortcode</span> <span style="color:#cb4b16">nil</span>)
</span></span><span style="display:flex;"><span><span style="color:#586e75">;; removed light=&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>(<span style="color:#b58900">setq</span> <span style="color:#268bd2">org2blog/wp-sourcecode-default-params</span> <span style="color:#cb4b16">nil</span>)
</span></span><span style="display:flex;"><span><span style="color:#586e75">;; target language needs to be in here</span>
</span></span><span style="display:flex;"><span>(<span style="color:#b58900">setq</span> <span style="color:#268bd2">org2blog/wp-sourcecode-langs</span>
</span></span><span style="display:flex;"><span>      <span style="color:#719e07">&#39;</span>(<span style="color:#2aa198">&#34;actionscript3&#34;</span> <span style="color:#2aa198">&#34;bash&#34;</span> <span style="color:#2aa198">&#34;coldfusion&#34;</span> <span style="color:#2aa198">&#34;cpp&#34;</span> <span style="color:#2aa198">&#34;csharp&#34;</span> <span style="color:#2aa198">&#34;css&#34;</span> <span style="color:#2aa198">&#34;delphi&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#2aa198">&#34;erlang&#34;</span> <span style="color:#2aa198">&#34;fsharp&#34;</span> <span style="color:#2aa198">&#34;diff&#34;</span> <span style="color:#2aa198">&#34;groovy&#34;</span> <span style="color:#2aa198">&#34;javascript&#34;</span> <span style="color:#2aa198">&#34;java&#34;</span> <span style="color:#2aa198">&#34;javafx&#34;</span> <span style="color:#2aa198">&#34;matlab&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#2aa198">&#34;objc&#34;</span> <span style="color:#2aa198">&#34;perl&#34;</span> <span style="color:#2aa198">&#34;php&#34;</span> <span style="color:#2aa198">&#34;text&#34;</span> <span style="color:#2aa198">&#34;powershell&#34;</span> <span style="color:#2aa198">&#34;python&#34;</span> <span style="color:#2aa198">&#34;ruby&#34;</span> <span style="color:#2aa198">&#34;scala&#34;</span> <span style="color:#2aa198">&#34;sql&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#2aa198">&#34;vb&#34;</span> <span style="color:#2aa198">&#34;xml&#34;</span> <span style="color:#2aa198">&#34;go&#34;</span> <span style="color:#2aa198">&#34;sh&#34;</span> <span style="color:#2aa198">&#34;emacs-lisp&#34;</span> <span style="color:#2aa198">&#34;lisp&#34;</span> <span style="color:#2aa198">&#34;lua&#34;</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">;; this will use emacs syntax higlighting in your #+BEGIN_SRC</span>
</span></span><span style="display:flex;"><span><span style="color:#586e75">;; &lt;language&gt; &lt;your-code&gt; #+END_SRC code blocks.</span>
</span></span><span style="display:flex;"><span>(<span style="color:#b58900">setq</span> <span style="color:#268bd2">org-src-fontify-natively</span> <span style="color:#cb4b16">t</span>)</span></span></code></pre></div>
<p>Naturally, I don’t post my credentials as part of my <code>.emacs</code> since I keep it under version control. Instead, I store it under <code>${HOME}/.authinfo.gpg</code> like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-emacs-lisp" data-lang="emacs-lisp"><span style="display:flex;"><span><span style="color:#268bd2">machine</span> <span style="color:#268bd2">arenzana.org</span>
</span></span><span style="display:flex;"><span>  <span style="color:#268bd2">login</span> <span style="color:#268bd2">admin</span>
</span></span><span style="display:flex;"><span>  <span style="color:#268bd2">password</span> <span style="color:#2aa198">&#34;mypassword&#34;</span></span></span></code></pre></div>
<p>The Lisp block creates a new blog instance called <code>arenzanaorg</code> (in case you want to have more than one blog). Include the XML RPC endpoint, credentials, and some defaults. In addition to this, I enable code highlighting. This is actually not working very well for me, because the CSS uses a very bright yellow color to represent strings for the <code>emacs-lisp</code> language (as you can see on previous posts). Instead, I’m just using the <code>#+BEGIN_SRC    #+END_SRC</code> blocks (without specifying the language) to post code blocks. This gives grey blocks, but at least they’re readable. I’ve tried different options, without success. I’m not a front end developer, so to be honest, I’ve struggled working with all the CSS options for the HTML export option of org2blog.</p>
<h2 id="the-workflow">The Workflow</h2>
<p>The workflow is fairly simple for what I do. <code>M-x org2blog/wp-new-entry</code>. The first time you call this, it will prompt you to log in. Make sure you do so. Then it will open an <code>Org</code> buffer where you can edit the defaults and type away.</p>
<p>Once I’m done, I issue <code>M-x org2blog/wp-post-buffer</code>. This will upload the draft and give me the option to display the preview, where I can see what things will look like prior to publishing. After I’m happy with the final edits, I issue <code>M-x org2blog/wp-post-bufffer-and-publish</code>. This will post directly to WordPress.</p>
<h2 id="caveats">Caveats</h2>
<p>As I described above, syntax highlighting for emacs-lisp is not great and it doesn’t support Go (my language of choice).</p>
<p>Attaching images to a blog post is something I do after the fact, once the draft is up. I haven’t figured out a good way to upload and link images to a post straight from org2blog.</p>

		</div>

		<div class="post-tags">
			
				
					<nav class="nav tags">
							<ul class="flat">
								
								<li><a href="/tags/blogging">blogging</a></li>
								
								<li><a href="/tags/emacs">emacs</a></li>
								
								<li><a href="/tags/tech">tech</a></li>
								
							</ul>
					</nav>
				
			
		</div>
		</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>© 2024, Ismael Arenzana. All rights reserved. </div>
	</nav>
</div><script>feather.replace()</script>
</body>
</html>
